webpackJsonp([18],{"4C3y":function(t,e,n){"use strict";var a=n("bOdI"),o=n.n(a),r=(n("sf/l"),n("meMj")),c=(n.n(r),{token:0}),i=o()({},r.CHANGE_TOKEN,function(t,e){t.token=e});e.a={state:c,mutations:i}},"5ORq":function(t,e){},AoU9:function(t,e){},M8GW:function(t,e,n){"use strict";e.a={}},M93x:function(t,e,n){"use strict";function a(t){n("eFdX")}var o=n("xJD8"),r=n("k2Pj"),c=n("VU/8"),i=a,u=c(o.a,r.a,i,null,null);e.a=u.exports},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n("7+uW"),o=(n("NYxO"),n("M93x")),r=n("YaEn"),c=n("YtJ0"),i=n("m4jk"),u=n("VqAb"),s=n("nrAE"),l=(n.n(s),n("sVYa")),d=(n.n(l),n("Au9i")),f=n.n(d),p=n("d8/S"),h=(n.n(p),n("5ORq"));n.n(h);a.default.use(f.a),a.default.config.productionTip=!1,a.default.prototype.$api=i.a,a.default.prototype.$axios=u.a,r.a.beforeEach(function(t,e,n){t.meta.requireAuth?"true"===localStorage.login?n():n({path:"/login"}):n()}),new a.default({el:"#app",router:r.a,store:c.a,template:"<App/>",components:{App:o.a}})},VqAb:function(t,e,n){"use strict";var a=n("eOoE"),o=function(t){return a.a.axiosPost("/send/register/code/",t)},r=function(t){return a.a.axiosPost("/oauth/login/",t)},c=function(t){return a.a.axiosPost("/wechat/oauth/",t)},i=function(t){return a.a.axiosGet("/sales/products/all/",t)},u=function(t){return a.a.axiosGet("/sales/products/detail/",t)},s=function(t){return a.a.axiosGet("/sales/spectrum/",t)},l=function(t){return a.a.axiosGet("/sales/category/",t)},d=function(t){return a.a.axiosGet("personal/address/create/",t)},f=function(t){return a.a.axiosPost("/sales/products/price/",t)},p=function(t){return a.a.axiosGet("/sales/products/spectrum/",t)},h=function(t){return a.a.axiosGet("/sales/products/category/",t)},m=function(t){return a.a.axiosPost("/personal/address/create/",t)},g=function(t){return a.a.axiosPost("/personal/address/list/",t)},L=function(t,e){return a.a.axiosDel(t,e)},v=function(t,e){return a.a.axiosPost(t,e)},S=function(t){return a.a.axiosPost("/consume/order/create/",t)};e.a={sendRegisterCode:o,register:r,wechatOauth:c,productsAll:i,productsDetail:u,spectrum:s,category:l,addressRreate:d,productsPrice:f,productsSpectrum:p,productsCategory:h,addressCreate:m,addressList:g,delAddress:L,editAddress:v,orderCreate:S}},YaEn:function(t,e,n){"use strict";var a=n("7+uW"),o=n("/ocq");a.default.use(o.a);var r=function(t){return n.e(0).then(function(){var e=[n("mlqX")];t.apply(null,e)}.bind(this)).catch(n.oe)},c=function(t){return n.e(4).then(function(){var e=[n("fXvj")];t.apply(null,e)}.bind(this)).catch(n.oe)},i=function(t){return n.e(16).then(function(){var e=[n("9KMJ")];t.apply(null,e)}.bind(this)).catch(n.oe)},u=function(t){return n.e(1).then(function(){var e=[n("SeH+")];t.apply(null,e)}.bind(this)).catch(n.oe)},s=function(t){return n.e(2).then(function(){var e=[n("/pee")];t.apply(null,e)}.bind(this)).catch(n.oe)},l=function(t){return n.e(14).then(function(){var e=[n("G7FF")];t.apply(null,e)}.bind(this)).catch(n.oe)},d=function(t){return n.e(8).then(function(){var e=[n("mZRd")];t.apply(null,e)}.bind(this)).catch(n.oe)},f=function(t){return n.e(15).then(function(){var e=[n("Quw4")];t.apply(null,e)}.bind(this)).catch(n.oe)},p=function(t){return n.e(3).then(function(){var e=[n("i/Eh")];t.apply(null,e)}.bind(this)).catch(n.oe)},h=function(t){return n.e(7).then(function(){var e=[n("rvI7")];t.apply(null,e)}.bind(this)).catch(n.oe)},m=function(t){return n.e(6).then(function(){var e=[n("tLhs")];t.apply(null,e)}.bind(this)).catch(n.oe)},g=function(t){return n.e(9).then(function(){var e=[n("LwgO")];t.apply(null,e)}.bind(this)).catch(n.oe)},L=function(t){return n.e(11).then(function(){var e=[n("EWfp")];t.apply(null,e)}.bind(this)).catch(n.oe)},v=function(t){return n.e(5).then(function(){var e=[n("8oog")];t.apply(null,e)}.bind(this)).catch(n.oe)},S=function(t){return n.e(13).then(function(){var e=[n("P4w/")];t.apply(null,e)}.bind(this)).catch(n.oe)},E=function(t){return n.e(12).then(function(){var e=[n("med/")];t.apply(null,e)}.bind(this)).catch(n.oe)},_=function(t){return n.e(10).then(function(){var e=[n("I40W")];t.apply(null,e)}.bind(this)).catch(n.oe)};e.a=new o.a({routes:[{path:"/",name:"首页",component:r},{path:"/category",name:"分类页",redirect:"/category/all",component:c,children:[{path:"/category/:tab",component:i}]},{path:"/car",name:"购物车页",component:u,meta:{requireAuth:!0}},{path:"/car/pay",name:"支付页",component:d},{path:"/user",name:"用户页",component:p,meta:{requireAuth:!0}},{path:"/addressList",component:m,name:"收货地址"},{path:"/address/:type",component:h,name:"增加收货地址"},{path:"/userDetail",component:g,name:"个人信息"},{path:"/coupon",component:L,name:"优惠券"},{path:"/like",component:v,name:"收藏"},{path:"/detail/:id",name:"详情页",component:s},{path:"/search/:type/:id",name:"搜索页",component:l},{path:"/login",name:"登录页",component:f},{path:"/confirm/order",name:"确认订单",component:S},{path:"/confirm/over",name:"订单完成",component:E},{path:"/myorder",name:"我的订单",component:_}]})},YtJ0:function(t,e,n){"use strict";var a=n("7+uW"),o=n("NYxO"),r=n("yW3m"),c=n("AoU9"),i=n.n(c),u=n("4C3y"),s=n("elEN");a.default.use(o.a),e.a=new o.a.Store({modules:{detail:r.a,category:i.a,login:u.a,car:s.a}})},"d8/S":function(t,e){},eFdX:function(t,e){},eOoE:function(t,e,n){"use strict";var a=n("//Fk"),o=n.n(a),r=n("mtWM"),c=n.n(r),i=n("Au9i");n.n(i),n("YaEn");c.a.interceptors.request.use(function(t){return t},function(t){return o.a.reject(t)}),c.a.interceptors.response.use(function(t){return t},function(t){return n.i(i.Toast)({message:"服务器异常！",duration:5e3}),o.a.reject(t)}),c.a.defaults.baseURL="//api.horus1924.com",c.a.defaults.headers.post["Content-Type"]="application/x-www-form-urlencoded";var u=function(t,e){return new o.a(function(a,o){c()({method:"get",url:t,params:e,timeout:5e3,headers:{"oauth-key":localStorage.userInfo?JSON.parse(localStorage.userInfo).oauth_key:"","personal-sign":localStorage.userInfo?JSON.parse(localStorage.userInfo).personal_sign:""}}).then(function(t){t.data.status>="40000"&&n.i(i.Toast)({message:t.data.msg,duration:5e3}),a(t.data)}).catch(function(t){o(t)})})},s=function(t,e){return new o.a(function(a,o){c()({method:"post",url:t,data:e,timeout:5e3,headers:{"oauth-key":localStorage.userInfo?JSON.parse(localStorage.userInfo).oauth_key:"","personal-sign":localStorage.userInfo?JSON.parse(localStorage.userInfo).personal_sign:""}}).then(function(t){t.data.status>="40000"&&n.i(i.Toast)({message:t.data.msg,duration:5e3}),a(t.data)}).catch(function(t){o(t)})})},l=function(t,e){return new o.a(function(a,o){c()({method:"delete",url:t,data:e,timeout:5e3,headers:{"oauth-key":localStorage.userInfo?JSON.parse(localStorage.userInfo).oauth_key:"","personal-sign":localStorage.userInfo?JSON.parse(localStorage.userInfo).personal_sign:""}}).then(function(t){t.data.status>="40000"&&n.i(i.Toast)({message:t.data.msg,duration:5e3}),a(t.data)}).catch(function(t){o(t)})})},d=function(t,e,n){var a=new FormData;for(var o in e)a.append(o,e[o]);c()({method:"post",url:t,data:a}).then(function(t){if("1003"==t.data.code)return window.store.commit("login_ture"),!1;"function"==typeof n&&n(t)}).catch(function(t){})},f=function(t,e){var a=!1;for(var o in t)if(0==t[o]&&o!=e){a=!0;break}return a?(n.i(i.Toast)({message:"请确认所有选项都填写完毕"}),1):0};e.a={axiosGet:u,axiosPost:s,axiosUpload:d,parameterVerify:f,axiosDel:l}},ecPC:function(t,e){},elEN:function(t,e,n){"use strict";var a={number:0,money:0},o={getNumber:function(t){return t.number},getMoney:function(t){return t.money}},r={updateNumber:function(t,e){t.number=e},updateMoney:function(t,e){t.money=e}};e.a={state:a,getters:o,mutations:r}},k2Pj:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("router-view"),t._v(" "),n("v-loading",{directives:[{name:"show",rawName:"v-show",value:t.fetchLoading,expression:"fetchLoading"}]})],1)},o=[],r={render:a,staticRenderFns:o};e.a=r},m4jk:function(t,e,n){"use strict";var a=n("//Fk"),o=n.n(a),r=n("mtWM"),c=n.n(r),i=n("YtJ0"),u=n("YaEn"),s=c.a.create();s.defaults.baseURL="http://api.com",s.defaults.timeout=5e3,s.defaults.headers.post["Content-Type"]="application/x-www-form-urlencoded",s.defaults.headers.post["X-Requested-With"]="XMLHttpRequest",s.interceptors.request.use(function(t){return i.a.commit("SET_LOADING",!0),i.a.state.login.token&&(t.headers.Authorization="token "+i.a.state.login.token),t},function(t){return alert("网络错误,请稍后再试"),i.a.commit("SET_LOADING",!1),o.a.reject(t)}),s.interceptors.response.use(function(t){return setTimeout(function(){i.a.commit("SET_LOADING",!1)},300),t},function(t){return i.a.commit("SET_LOADING",!1),errore.response&&401==t.response.status&&(i.a.commit("CHANGE_TOKEN",0),alert("请重新登录"),u.a.replace({path:"login",query:{redirect:u.a.currentRoute.fullPath}})),o.a.reject(t)}),e.a=s},meMj:function(t,e){},"sf/l":function(t,e,n){"use strict";var a=n("mvHQ"),o=n.n(a);e.a={getLocal:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"STORAGE_USER_KEY";return JSON.parse(window.localStorage.getItem(t))},setLocal:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"STORAGE_USER_KEY";if(arguments.length>2&&void 0!==arguments[2]&&arguments[2]&&this.getLocal(e)){var n=this.getLocal(e);return window.localStorage.setItem(e,o()(n.concat(t)))}return window.localStorage.setItem(e,o()(t))}}},uRZK:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},o=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"wrap"},[n("div",{staticClass:"spinner"},[n("div",{staticClass:"double-bounce1"}),t._v(" "),n("div",{staticClass:"double-bounce2"})]),t._v(" "),n("p",[t._v("正在拼命加载中.....")])])}],r={render:a,staticRenderFns:o};e.a=r},xJD8:function(t,e,n){"use strict";var a=n("Xxa5"),o=n.n(a),r=n("exGp"),c=n.n(r),i=n("y+dn");e.a={components:{"v-loading":i.a},computed:{fetchLoading:function(){return this.$store.state.detail.fetchLoading}},methods:{GetQueryValue:function(t){var e=decodeURI(window.location.search),n=e.split("?");console.log(n);for(var a=1;a<n.length;a++){var o=n[a].split("=");if(o[0]==t)return o[1]}return!1},wxLogin:function(){var t={appid:"wx1f7e703a59621fce",redirect_uri:encodeURIComponent("http://www.horus1924.com"),code:"code",snsapi_userinfo:"snsapi_userinfo",state:"login"};window.location.href="https://open.weixin.qq.com/connect/oauth2/authorize?appid="+t.appid+"&redirect_uri="+t.redirect_uri+"&response_type="+t.code+"&scope="+t.snsapi_userinfo+"&state="+t.state+"#wechat_redirect"}},mounted:function(){var t=this;return c()(o.a.mark(function e(){var n,a,r;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!localStorage.login){e.next=2;break}return e.abrupt("return");case 2:if(n=navigator.userAgent.toLowerCase(),"micromessenger"===n.match(/MicroMessenger/i)){e.next=5;break}return e.abrupt("return");case 5:if(!(a=t.GetQueryValue("code"))){e.next=14;break}return e.next=9,t.$axios.wechatOauth({code:a});case 9:r=e.sent,console.log(r),"30303"!==r.status&&"30304"!==r.status||(localStorage.openId=r.data.openid),e.next=15;break;case 14:t.wxLogin();case 15:case"end":return e.stop()}},e,t)}))()}}},"y+dn":function(t,e,n){"use strict";function a(t){n("ecPC")}var o=n("M8GW"),r=n("uRZK"),c=n("VU/8"),i=a,u=c(o.a,r.a,i,"data-v-727eda80",null);e.a=u.exports},yW3m:function(t,e,n){"use strict";var a,o=n("bOdI"),r=n.n(o),c=n("sf/l"),i=n("meMj"),u=(n.n(i),n("7+uW")),s={productDatas:"",colSelected:0,sizeSelected:0,count:0,carList:"",fetchLoading:!1,selectedList:"",unSelectedList:""},l=(a={},r()(a,i.SET_DATAS,function(t,e){t.productDatas={title:"Planet- 戒指",price:"5000"}}),r()(a,i.CHANGE_COL_SELECTED,function(t,e){t.colSelected=e}),r()(a,i.CHANGE_SIZE_SELECTED,function(t,e){t.sizeSelected=e}),r()(a,i.ADD_PRODUCT,function(t){t.carList=c.a.getLocal("carList")}),r()(a,i.CHANGE_COUNT,function(t){t.count=c.a.getLocal("count")}),r()(a,i.RESET_CARLIST,function(t){t.carList=c.a.getLocal("carList")}),r()(a,i.RESET_COUNT,function(t){t.count=c.a.getLocal("carList").length}),r()(a,i.SET_LOADING,function(t,e){t.fetchLoading=e}),r()(a,"SET_SELECTEDLIST",function(t,e){t.selectedList=c.a.getLocal("selectedList")}),r()(a,"SET_UNSELECTEDLIST",function(t){t.unSelectedList=c.a.getLocal("unSelectedList")}),a),d=new u.default({}),f={setDatas:function(t){var e=t.commit;d.$api({method:"post",url:"/detail"}).then(function(t){e("SET_DATAS",t.data)})},setLocalCount:function(t){var e=t.commit,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=c.a.getLocal("count")||0;n?c.a.setLocal(++a,"count"):c.a.setLocal(--a,"count"),e(i.CHANGE_COUNT)},addCarList:function(t,e){var n=t.commit;c.a.setLocal(e,"carList",!0),n(i.ADD_PRODUCT)},resetCarList:function(t){var e=t.commit,n=(t.getters,c.a.getLocal("unSelectedList"));c.a.setLocal(n,"carList"),e(i.RESET_CARLIST)},resetCount:function(t){var e=t.commit,n=(t.getters,c.a.getLocal("unSelectedList").length);c.a.setLocal(n,"count"),e(i.RESET_COUNT)},cutCarList:function(t,e){var n=t.commit;c.a.setLocal(e,"carList"),n(i.RESET_CARLIST)},setSelectedList:function(t){var e=t.commit,n=t.getters;c.a.setLocal(n.selectedList,"selectedList"),e("SET_SELECTEDLIST"),c.a.setLocal(n.unSelectedList,"unSelectedList"),e("SET_UNSELECTEDLIST")}},p={selectedList:function(t){if(""!==t.carList){return t.carList.filter(function(t){return 1==t.choseBool})}},unSelectedList:function(t){if(""!==t.carList){return t.carList.filter(function(t){return 0==t.choseBool})}}};e.a={state:s,actions:f,getters:p,mutations:l}}},["NHnr"]);
//# sourceMappingURL=app.8669b730022e356ee8d0.js.map?version=1576163410342